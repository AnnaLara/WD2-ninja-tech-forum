{% extends "base.html" %}

{% block title %}Add new topic{% endblock title %}

{% block content %}
<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <h1 id="add-topic-heading">Add new topic</h1>
        <br>
        <br>

        <form method="post">
          <input type="hidden" name="csrf-token" value="{{ csrf_token }}">
            <div class="form-group">
                <label>Title</label>
                <input type="text" class="form-control" name="title" id="add-topic-title" required>
            </div>

            <div class="form-group">
                <label>Text</label>
                <textarea name="text" class="form-control" rows="6" required></textarea>
            </div>

            <div class="form-group">
                <label id="lable-result">What is the result of: 2 + 8 ?</label>
                <input type="number" class="form-control" id="result" required>
            </div>

            <button type="submit" class="btn btn-success" id="add-topic-button">Submit</button>
        </form>
    </div>
</div>
{% endblock content %}

{% block scripts %}

<script>
  $(document).ready(function() {

    var num1 = Math.floor((Math.random() * 10) + 1);
    var num2 = Math.floor((Math.random() * 10) + 1);

    var $lableResult = $('#lable-result');
    $lableResult.html('What is the result of: ' + num1 + '+' + num2 + ' ?');

    var $addTopicButton = $('#add-topic-button');

    $addTopicButton.on('click', function(event) {
      var $result = $('#result').val();
      if ($result != (num1+num2)) {
        event.preventDefault();
      };
    });

  });



</script>

{% endblock scripts %}
